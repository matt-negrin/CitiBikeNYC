summarize(group_by(gender),avg_tripdurmin = mean(tripdurmin, na.rm=TRUE))
summarize(group_by(subJul$gender),avg_tripdurmin = mean(tripdurmin, na.rm=TRUE))
group_by(subJul, gender)
summarize(group_by(subJul$gender),avg_tripdurmin = mean(tripdurmin, na.rm=TRUE))
summarize(avg_tripdurmin = mean(tripdurmin, na.rm=TRUE))
summarize(subJul, avg_tripdurmin = mean(tripdurmin, na.rm=TRUE))
testdf <- group_by(subJul, gende)
testdf <- group_by(subJul, gender)
summarise(testdf, mean(tripdurmin))
testdf
gropus(testdf)
groups(testdf)
testdf <- group_by(subJul, day(starttime))
summarise(testdf, mean(tripdurmin))
testdf <- group_by(subJul, day(starttime))
summarise(subJul, mean(tripdurmin), mean(tripdurhr))
summarise(testdf, mean(tripdurmin), mean(tripdurhr))
filter(testdf, tripdurmin == max(tripdurmin))
testdf %>% filter(tripdurmin == max(tripdurmin)) %>% select(starttime, tripdurationmin)
testdf %>% filter(tripdurmin == max(tripdurmin)) %>% select(starttime, tripdurmin)
testdf %>% filter(tripdurmin == max(tripdurmin)) %>% select(day(starttime), tripdurmin)
testdf %>% filter(tripdurmin == max(tripdurmin)) %>% select(tripdurmin)
testdf %>% filter(tripdurmin == max(tripdurmin))
testdf %>% filter(tripdurmin == max(tripdurmin)) %>% select(starttime)
testdf2 <- filter(testdf, tripdurmin == max(tripdurmin))
select(testdf2, starttime, tripdurmin)
testdf %>% filter(max.tripdurmin == max(tripdurmin)) %>% select(starttime)
testdf %>% filter(max.tripdurmin = (tripdurmin == max(tripdurmin)))
testdf %>% mutate(max.tripdurmin = (tripdurmin == max(tripdurmin)))
select(max.tripdurmin)
select(testdf2, max.tripdurmin)
testdf2 <- testdf %>% mutate(max.tripdurmin = (tripdurmin == max(tripdurmin)))
select(testdf2, starttime, max.testdurmin)
testdf2
select(testdf2, starttime, max.tripdurmin)
select(testdf2, max.tripdurmin)
testdf2
summary(testdf2)
testdf2 <- testdf %>% mutate(max.tripdurmin = max(tripdurmin))
summary(testdf2)
testdf2 <- testdf %>% group_by(starttime) %>% mutate(max.tripdurmin = max(tripdurmin))
summary(testdf2)
testdf <- subJul %>% filter(tripdurmin == max(tripdurmin))
testdf
xtabs(~gender+years.old, data=subJul)
testdf <- group_by(subJul, starttime, gender)
sumtestdf <- summarize(testdf, count=n())
sumtestdf <- summarize(testdf, count
))
sumtestdf <- summarize(testdf, count)
sumtestdf
sumtestdf <- summarize(testdf, mn=mean(tripdurmin))
sumtestdf
load("~/r/Citibike_P2/bikespace.RData")
i
rm(i)
rm(testdf, testdf2, sumtestdf, NYCwthr, df)
glimpse(cleanJul3)
library(dplyr)
glimpse(cleanJul3)
summary(usertype)
summary(cleanJul3$usertype)
summary(cleanJul3$gender)
cleanJul3 <- rename(cleanJul3, bikeId = bikeid, startTime = starttime, stopTime = stoptime, tripSec = tripsec, tripMin = tripmin, tripHr = triphr, userType = usertype)
)
cleanJul3 <- rename(cleanJul3, bikeId = bikeid, startTime = starttime, stopTime = stoptime, tripSec = tripsec, tripMin = tripmin, tripHr = triphr, userType = usertype)
glimpse(cleanJul3)
cleanJul3 <- rename(cleanJul3, endTime = stopTime)
glimpse(cleanJul3)
dist1 <- is.numeric(0)
df <- route(cleanJul3$startAddress[1], endAddress[1], mode = "bicycling")
library(ggmap)
df <- route(cleanJul3$startAddress[1], endAddress[1], mode = "bicycling")
df <- route(cleanJul3$startAddress[1], cleanJul3$endAddress[1], mode = "bicycling")
dist1[1] <- sum(df$miles)
dist1
dist1 <- is.numeric(0)
dist1 <- is.numeric(0)
for (i in 1:length(cleanJul3$startAddress)) {
df <- route(cleanJul3$startAddress[i], endAddress[i], mode = "bicycling")
dist1[i] <- sum(df$miles)
}
dist1 <- is.numeric(0)
for (i in 1:length(cleanJul3$startAddress)) {
df <- route(cleanJul3$startAddress[i], cleanJul3$endAddress[i], mode = "bicycling")
dist1[i] <- sum(df$miles)
}
dist1
length(cleanJul3$startAddress)
dist1 <- is.numeric(0)
for (i in 1:100) {
df <- route(cleanJul3$startAddress[i], cleanJul3$endAddress[i], mode = "bicycling")
dist1[i] <- sum(df$miles)
}
dist1
dist1 <- is.numeric(0)
for (i in 1:100) {
df <- route(cleanJul3$startAddress[i], cleanJul3$endAddress[i], mode = "bicycling", browser())
dist1[i] <- sum(df$miles)
}
dist1 <- is.character(0)
for (i in 1:10) {
df <- route(cleanJul3$startAddress[i], cleanJul3$endAddress[i], mode = "bicycling", browser())
dist1[i] <- sum(df$miles)
}
dist1 <- is.character(0)
for (i in 1:10) {
df <- route(cleanJul3$startAddress[i], cleanJul3$endAddress[i], mode = "bicycling",)
dist1[i] <- sum(df$miles)
}
dist1
dist1 <- is.character(0)
for (i in 1:50) {
df <- route(cleanJul3$startAddress[i], cleanJul3$endAddress[i], mode = "bicycling",)
dist1[i] <- sum(df$miles)
}
dist1
dist2 <- is.character(0)
for (i in 18:30) {
df <- route(cleanJul3$startAddress[i], cleanJul3$endAddress[i], mode = "bicycling",)
dist1[i] <- sum(df$miles)
}
dist2
dist1 <- is.character(0)
for (i in 1:30) {
df <- route(cleanJul3$startAddress[i], cleanJul3$endAddress[i], mode = "bicycling",)
dist1[i] <- sum(df$miles)
}
dist1
dist1 <- is.character(0)
for (i in 1:30) {
df <- route(cleanJul3$startAddress[i], cleanJul3$endAddress[i], mode = "bicycling",)
dist1[i] <- sum(df$miles)
}
routeQueryCheck()
testroutes <- select(cleanJul3, startAddress, endAddress)
glimpse(testroutes)
testroutes <- unique(testroutes)
dist1
glimpse(cleanJul3)
dist1
alongTrackDistance(c(cleanJul3$startLon, cleanJul3$startLat), c(cleanJul3$startLon, cleanJul3$endLat))
install.packages("geosphere")
dist1
alongTrackDistance(c(cleanJul3$startLon, cleanJul3$startLat), c(cleanJul3$startLon, cleanJul3$endLat))
library(geosphere)
dist1
alongTrackDistance(c(cleanJul3$startLon, cleanJul3$startLat), c(cleanJul3$startLon, cleanJul3$endLat))
alongTrackDistance(c(cleanJul3$startLon[1], cleanJul3$startLat)[1], c(cleanJul3$startLon[1], cleanJul3$endLat[1]))
cleanJul3$startLon[1]
alongTrackDistance(c(cleanJul3$startLon[1], cleanJul3$startLat[1]), c(cleanJul3$startLon[1], cleanJul3$endLat[1]))
distm(c(cleanJul3$startLon[1], cleanJul3$startLat[1]), c(cleanJul3$startLon[1], cleanJul3$endLat[1]))
mapdist(cleanJul3$startAddress[1], cleanJul3$endAddress[1], mode = "bicycling")
install.packages("Imap")
library(Imap)
gdist(cleanJul3$startLon[1], cleanJul3$startLat[1], cleanJul3$endLon[1], cleanJul3$endLat[1], units = "miles")
dist1
gdist(cleanJul3$startLon[2], cleanJul3$startLat[2], cleanJul3$endLon[2], cleanJul3$endLat[2], units = "miles")
dist2 <- is.numeric(0)
for (i in 1:length(cleanJul3$startAddress)) {
dist2[i] <- gdist(cleanJul3$startLon[i], cleanJul3$startLat[i], cleanJul3$endLon[i], cleanJul3$endLat[i], units = "miles")
}
dist2
dist2 <- is.numeric(0)
for (i in 1:length(cleanJul3$startAddress)) {
dist2[i] <- gdist(cleanJul3$startLon[i], cleanJul3$startLat[i], cleanJul3$endLon[i], cleanJul3$endLat[i], units = "miles")
}
dist3 <- is.numeric(0)
for (i in 803663:length(cleanJul3$startAddress)) {
dist3[i] <- gdist(cleanJul3$startLon[i], cleanJul3$startLat[i], cleanJul3$endLon[i], cleanJul3$endLat[i], units = "miles")
}
length(dist3)
length(dist2)
head(dist2)
head(dist3)
tail(dist2)
save.image("~/r/Citibike_P2/bikespace.RData")
load("~/r/Citibike_P2/bikespace.RData")
cleanJul3 <- dplyr::select(cleanJul2, bikeid, start.station.id, starttime, stoptime, tripdursec, tripdurmin, tripdurhr, end.station.id, start.station.name, start.station.latitude, start.station.longitude, startAddress, end.station.name, end.station.latitude, end.station.longitude, endAddress, usertype, gender, years.old)
cleanJul3 <- dplyr::rename(cleanJul3, startId = start.station.id, startTime = starttime, endTime = stoptime, bikeId = bikeid, tripSec = tripdursec, tripMin = tripdurmin, tripHr = tripdurhr, startName = start.station.name, startLat = start.station.latitude, startLon = start.station.longitude, endId = end.station.id, endName = end.station.name, endLat = end.station.latitude, endLo
n = end.station.longitude, userType = usertype, age = years.old)
cleanJul3 <- dplyr::rename(cleanJul3, startId = start.station.id, startTime = starttime, endTime = stoptime, bikeId = bikeid, tripSec = tripdursec, tripMin = tripdurmin, tripHr = tripdurhr, startName = start.station.name, startLat = start.station.latitude, startLon = start.station.longitude, endId = end.station.id, endName = end.station.name, endLat = end.station.latitude, endLon = end.station.longitude, userType = usertype, age = years.old)
cleanJul3 <- mutate(cleanJul3, tripId = paste(startId, "-", endId))
library(dplyr)
library(dplyr)
cleanJul3 <- mutate(cleanJul3, tripId = paste(startId, "-", endId))
library(Imap)
lookupDist1 <- select(cleanJul3, startId, endId, startLat, startLon, endLat, endLon, tripId)
lookupDist1 <- filter(lookupDist1, !duplicated(tripId))
dist1 <- is.numeric(0)
for (i in 1:length(lookupDist1$startLat)) {
dist1[i] <- gdist(lookupDist1$startLon[i], lookupDist1$startLat[i], lookupDist1$endLon[i], lookupDist1$endLat[i], units = "miles")
}
lookupDist1 <- lookupDist1 %>%
mutate(tripDist = dist1) %>%
select(tripId, tripDist)
cleanJul3 <- plyr::join(cleanJul3, lookupDist1, by = c("tripId" = "tripId"))
startZip <- substring(substr(cleanJul3$startAddress, nchar(cleanJul3$startAddress)-10+1, nchar(cleanJul3$startAddress)),1,5)
endZip <- substring(substr(cleanJul3$endAddress, nchar(cleanJul3$endAddress)-10+1, nchar(cleanJul3$endAddress)),1,5)
cleanJul3 <- mutate(cleanJul3, startZip = startZip, endZip = endZip)
glimpse(cleanJul3)
cleanJul3 <- mutate(cleanJul3, startZip = as.factor(startZip), endZip = as.factor(endZip))
glimpse(cleanJul3)
save.image("~/r/Citibike_P2/bikespace.RData")
load("~/r/Citibike_P2/bikespace.RData")
glimpse(tJul)
library(plyr)
library(dplyr)
library(lubridate)
glimpse(tJul)
rm(nycWthrT)
summary(tJul$visib)
ggplot(tJul, aes(x = startZip, y = n())) + geom_bar()
function(ggplot)
library(ggplot)
library(ggplot2)
ggplot(tJul, aes(x = startZip, y = n())) + geom_bar()
ggplot(tJul, aes(x=day(startTime), y=windSpeed)) + geom_line() + scale_date_format(format="%d") + xlab("") + ylab("Wind Speed")
ggplot(tJul, aes(x=day(startTime), y=windSpeed)) + geom_line() + scale_x_date_format(format="%d") + xlab("") + ylab("Wind Speed")
ggplot(tJul, aes(x=day(startTime), y=windSpeed)) + geom_line() + scale_x_date(format="%d") + xlab("") + ylab("Wind Speed")
ggplot(tJul, aes(x=day(startTime), y=windSpeed)) + geom_line() + scale_x_date(format="%D") + xlab("") + ylab("Wind Speed")
ggplot(tJul, aes(x=day(startTime), y=windSpeed)) + geom_line() + xlab("") + ylab("Wind Speed")
ggplot(tJul, aes(x=day(startTime), y=windSpeed)) + geom_line() + xlab("") + ylab("Wind Speed") + scale_x_discrete()
ggplot(tJul, aes(x=day(startTime), y=windSpeed, y1=temp)) + geom_line() + xlab("") + ylab("Wind Speed") + scale_x_discrete()
ggplot(tJul, aes(x=day(startTime), y=windSpeed, y1=temp)) + geom_line() + xlab("") + ylab("Wind Speed") + scale_x_discrete() + geom_histogram()
ggplot(tJul, aes(x=day(startTime), y=windSpeed, y1=temp)) + geom_line() + xlab("") + ylab("Wind Speed") + scale_x_discrete() + geom_histogram(stat="bin")
ggplot(tJul, aes(x=day(startTime), y=windSpeed)) + geom_line() + xlab("") + ylab("Wind Speed") + scale_x_discrete() + geom_line(data=temp, colour="red")
ggplot(tJul, aes(x=day(startTime), y=windSpeed)) + geom_line() + xlab("") + ylab("Wind Speed") + scale_x_discrete() + geom_line(data=tJul$temp, colour="red")
ggplot(tJul, aes(x=day(startTime), y=windSpeed)) + geom_line() + xlab("") + ylab("Wind Speed") + scale_x_discrete() + geom_line(data=as.numeric(tJul$temp), colour="red")
ggplot(tJul, aes(x=day(startTime), y=windSpeed)) + geom_line() + xlab("") + ylab("Wind Speed") + scale_x_discrete() + geom_line(data=tJul, y=temp, colour="red")
ggplot(tJul, aes(x=day(startTime), y=windSpeed)) + geom_line() + xlab("") + ylab("Wind Speed") + scale_x_discrete() + geom_line(data=tJul, y1=temp, colour="red")
ggplot(tJul, aes(x=day(startTime), y=windSpeed)) + geom_line() + xlab("") + ylab("Wind Speed") + scale_x_discrete() + geom_line(data=tJul, aes(x=day(startTime), y=temp))
ggplot(tJul, aes(x=day(startTime), y=windSpeed)) + geom_line() + xlab("") + ylab("Wind Speed") + scale_x_discrete() + geom_line(data=tJul, aes(x=day(startTime), y=temp/4), color="brickred")
summary(zipDf)
head(zipDf)
ggplot(zipDf, aes(dist, timeMin)) + geom_point(aes(size=count)) + geom_smooth() + scale_size_area()
ggplot(zipDf, aes(dist, vel)) + geom_point(aes(size=count)) + geom_smooth() + scale_size_area()
timeDf <- group_by(tJul, day(startTime))
timeDf <- summarise(a, count=n(), dist=mean(tripDist), timeMin=mean(tripMin), vel=mean(tripVel), count_m = n_distinct(gender=="male"), temp=mean(temp), dew=mean(dew), windSpeed=mean(windSpeed), precip=mean(precip))
timeDf <- summarise(a, count=n(), dist=mean(tripDist), timeMin=mean(tripMin), vel=mean(tripVel), count_g = n_distinct(gender), temp=mean(temp), dew=mean(dew), windSpeed=mean(windSpeed), precip=mean(precip))
timeDf <- summarise(timeDf, count=n(), dist=mean(tripDist), timeMin=mean(tripMin), vel=mean(tripVel), count_g = n_distinct(gender), temp=mean(temp), dew=mean(dew), windSpeed=mean(windSpeed), precip=mean(precip))
glimpse(timeDf)
ggplot(timeDf, aes(day, count)) + geom_line(color="red")
ggplot(timeDf, aes(x=day, y=timeDf$count)) + geom_line()
ggplot(timeDf, aes(x=day(startTime), y=timeDf$count)) + geom_line()
timeDf$day(startTime)
timeDf$startTime
View(timeDf)
timeDf <- rename(timeDf, day = day(startTime))
timeDf <- dplyr::rename(timeDf, day = day(startTime))
timeDf$day(startTime)
glimpse(tJul)
table(tJul$startNday, tJul$startWday)
timeDf <- group_by(tJul, startNday)
timeDf <- summarise(timeDf, count=n(), dist=mean(tripDist), timeMin=mean(tripMin), vel=mean(tripVel), count_g = n_distinct(gender), temp=mean(temp), dew=mean(dew), windSpeed=mean(windSpeed), precip=mean(precip))
View(timeDf)
ggplot(timeDf, aes(startNday, count)) + geom_line()
ggplot(timeDf, aes(startNday, count)) + geom_line() + scale_x_discrete()
ggplot(timeDf, aes(startNday, count)) + geom_histogram() + scale_x_discrete()
ggplot(timeDf, aes(startNday, count)) + geom_plot() + scale_x_discrete()
ggplot(timeDf, aes(startNday, count)) + geom_point() + scale_x_discrete()
ggplot(timeDf, aes(startNday, count)) + geom_point(aes(size=windSpeed)) + scale_x_discrete()
ggplot(timeDf, aes(startNday, count)) + geom_point(aes(color=temp, size=windSpeed)) + scale_x_discrete()
ggplot(timeDf, aes(startNday, count)) + geom_line(aes(color=temp, size=windSpeed)) + scale_x_discrete()
ggplot(timeDf, aes(startNday, count)) + geom_line(aes(color=temp)) + scale_x_discrete()
ggplot(timeDf, aes(startNday, count)) + geom_line(aes(color=temp), size=1) + scale_x_discrete()
ggplot(timeDf, aes(startNday, count)) + geom_line(aes(color=temp), size=3) + scale_x_discrete()
ggplot(timeDf, aes(startNday, count)) + geom_line(aes(color=temp), size=2) + scale_x_discrete()
ggplot(timeDf, aes(startNday, count)) + geom_density(aes(color=temp), size=2) + scale_x_discrete()
ggplot(timeDf, aes(startNday, count)) + geom_bar(aes(color=temp), size=2) + scale_x_discrete()
?geom_bar
ggplot(timeDf, aes(startNday, count)) + geom_bar() + scale_x_discrete()
ggplot(timeDf, aes(startNday, timeDf$count)) + geom_bar() + scale_x_discrete()
?geom_bar
ggplot(timeDf, aes(startNday)) + geom_bar() + scale_x_discrete()
ggplot(tJul, aes(startNday)) + geom_bar() + scale_x_discrete()
ggplot(tJul, aes(startNday)) + geom_bar(aes(color=temp)) + scale_x_discrete()
ggplot(timeDf, aes(startNday, dist)) + geom_point() + scale_x_discrete()
ggplot(timeDf, aes(startNday, dist)) + geom_point(aes(size=count)) + scale_x_discrete()
ggplot(timeDf, aes(startNday, dist)) + geom_histogram() + scale_x_discrete()
ggplot(timeDf, aes(startNday, dist)) + geom_bar() + scale_x_discrete()
ggplot(timeDf, aes(startNday, dist)) + geom_line() + scale_x_discrete()
ggplot(timeDf, aes(startNday, vel)) + geom_line() + scale_x_discrete()
ggplot(tJul, aes(startNday, vel)) + geom_point(aes(color=startNday)) + scale_x_discrete()
save.image("~/r/Citibike_P2/bikespace.RData")
library(installR)
library(UsingR)
install(UsingR)
install.packages("UsingR")
library(manipulate)
rm(lis=ls())
rm(list=ls())
load("~/r/Citibike_P2/bikespace.RData")
library(plyr)
library(dplyr)
library(lubridate)
glimpse(tJul)
lm(tJul$tripVel ~ tJul$windSpeed)
lm(tJul$tripMin ~ tJul$windSpeed)
lm(tJul$tripMin ~ tJul$temp)
lm(timeDf$count ~ tJul$windSpeed)
lm(timeDf$count ~ timeDf$windSpeed)
lm(timeDf$count ~ timeDf$precip)
load("~/r/Citibike_P2/cleanData.RData")
library(plyr)
library(dplyr)
library(shiny)
library(lubridate)
library(ggplot2)
ggplot(f, aes(tempF, trips)) + geom_point(position = position_jitter(width=.2), aes(color=tempF))
ggplot(f, aes(tempF, trips)) + geom_point(position = position_jitter(width=.2), aes(color=tempF)) + scale_colour_gradient(low = "white", high="blue")
ggplot(f, aes(tempF, trips)) + geom_point(position = position_jitter(width=.2), aes(color=tempF)) + scale_colour_gradient(low = "yellow", high="blue")
ggplot(f, aes(tempF, trips)) + geom_point(position = position_jitter(width=.2), aes(color=tempF)) + scale_colour_gradient(low = "red", high="blue")
ggplot(f, aes(tempF, trips)) + geom_point(position = position_jitter(width=.2), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red")
ggplot(f, aes(tempF, trips)) + geom_point(position = position_jitter(width=.25), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red")
ggplot(f, aes(tempF, trips)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red")
ggplot(f, aes(trips)) + geom_histogram(aes(color=tempF))
ggplot(f, aes(trips)) + geom_histogram()
ggplot(f, aes(tempF, tripMin)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red")
ggplot(f, aes(tempF, tripDist)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red")
ggplot(f, aes(tempF, tripDist)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red") + ylim(0,3)
ggplot(f, aes(tempF, tripMin)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red") + ylim(0,3)
ggplot(f, aes(tempF, tripMin)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red")
ggplot(f, aes(tempF, tripMin)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red") + ylim(0,20)
ggplot(f, aes(tempF, tripMin)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red") + ylim(5,20)
ggplot(f, aes(tempF, tripMin)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red") + ylim(5,25)
factorial(20)
factorial(20) / (factorial(10)*factorial(10))
x <- factorial(20) / (factorial(10)*factorial(10))
x/ 2^20
x/ (2^20)
x/ 4
x <- factorial(50) / (factorial(25)*factorial(25))
x/ 2^50
x <- factorial(40) / (factorial(20)*factorial(20))
x/ 2^40
24.6/17.6-1
17.6/24.6-1
12.5/17.6-1
x <- factorial(80) / (factorial(40)*factorial(40))
x / 2^80
ggplot(f, aes(tempF, tripMin)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red") + ylim(5,25) + abline()
ggplot(f, aes(tempF, tripMin)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red") + ylim(5,25) + stat_smooth(method="gam")
ggplot(f, aes(tempF, tripDist)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red") + ylim(5,25) + stat_smooth(method="gam")
ggplot(f, aes(tempF, tripDist)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red") + ylim(5,25)
ggplot(f, aes(tempF, tripDist)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red") + stat_smooth(method="gam")
ggplot(f, aes(tempF, tripDist)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red") + ylim(0,3) + stat_smooth(method="gam")
ggplot(f, aes(trips)) + geom_histogram()
ggplot(f, aes(trips)) + geom_histogram(color="blue")
ggplot(f, aes(trips)) + geom_histogram(fill="blue")
ggplot(f, aes(trips)) + geom_histogram(color=red, fill="blue")
ggplot(f, aes(trips)) + geom_histogram(color="red", fill="blue")
ggplot(f, aes(tripDist)) + geom_histogram(color="red", fill="blue")
ggplot(f, aes(tripMin)) + geom_histogram(color="red", fill="blue")
ggplot(f, aes(tripMin)) + geom_histogram(aes(color=tempF))
ggplot(f, aes(tripMin)) + geom_histogram(aes_string(color=tempF))
ggplot(f, aes(tripMin)) + geom_histogram(aes_string(color=f$tempF))
ggplot(f, aes(tripMin, fill=tempF)) + geom_histogram()
ggplot(f, aes(tripMin)) + geom_histogram(fill=tempF)
ggplot(f, aes(tripMin)) + geom_histogram(aes(fill=tempF))
ggplot(f, aes(tripMin)) + geom_histogram(aes(fill=gender))
ggplot(f, aes(tripMin)) + geom_histogram(aes(fill=neighborhood))
ggplot(f, aes(tripMin)) + geom_histogram(aes(fill=neighborhood)) + xlim(0,22)
ggplot(f, aes(tripMin)) + geom_histogram(aes(fill=dateTime)) + xlim(0,22)
ggplot(f, aes(tripVel)) + geom_histogram(aes(fill=neighborhood)) + xlim(0,22)
ggplot(f, aes(tripDist)) + geom_histogram(aes(fill=neighborhood)) + xlim(0,22)
ggplot(f, aes(tripVel)) + geom_histogram(aes(fill=neighborhood))
ggplot(f, aes(tripMin)) + geom_histogram(aes(fill=neighborhood))
ggplot(f, aes(tempF, tripMin)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red") + ylim(5,25) + stat_smooth(method="gam")
ggplot(f, aes(tempF, tripDist)) + geom_point(position = position_jitter(width=.3), aes(color=tempF)) + scale_colour_gradient(low = "blue", high="red") + ylim(0,3) + stat_smooth(method="gam")
ggplot(f, aes(tempF, tripDist)) + geom_point(position = position_jitter(width=.3), aes(color=trips)) + scale_colour_gradient(low = "blue", high="red") + ylim(0,3) + stat_smooth(method="gam")
ggplot(f, aes(tempF, tripDist)) + geom_point(position = position_jitter(width=.3), aes(color=dateTime)) + scale_colour_gradient(low = "blue", high="red") + ylim(0,3) + stat_smooth(method="gam")
ggplot(f, aes(tempF, tripDist)) + geom_point(position = position_jitter(width=.3), aes(color=trips)) + scale_colour_gradient(low = "blue", high="red") + ylim(0,3) + stat_smooth(method="gam")
ggplot(f, aes(tempF, tripMin)) + geom_point(position = position_jitter(width=.3), aes(color=trips)) + scale_colour_gradient(low = "blue", high="red") + ylim(5,25) + stat_smooth(method="gam")
ggplot(f, aes(tempF, trips)) + geom_point(position = position_jitter(width=.3), aes(color=trips)) + scale_colour_gradient(low = "blue", high="red") + ylim(5,25) + stat_smooth(method="gam")
ggplot(f, aes(tempF, tripMin)) + geom_point(position = position_jitter(width=.3), aes(color=trips)) + scale_colour_gradient(low = "blue", high="red") + ylim(5,25) + stat_smooth(method="gam")
ggplot(f, aes(tripMin)) + geom_histogram(aes(fill=neighborhood))
ggplot(f, aes(tripDist)) + geom_histogram(color="red", fill="blue")
ggplot(f, aes(tripMin)) + geom_histogram(color="red", fill="blue")
ggplot(f, aes(tripDist)) + geom_histogram(color="red", fill="blue")
ggplot(f, aes(tripMin)) + geom_histogram(color="red", fill="blue")
ggplot(f, aes(tripDist)) + geom_histogram(color="red", fill="blue")
ggplot(f, aes(tripMin)) + geom_histogram(color="red", fill="blue")
ggplot(f, aes(dateTime, trips)) + geom_point()
ggplot(f, aes(dateTime, tempF)) + geom_point()
ggplot(f, aes(dateTime, tempF)) + geom_line()
runApp("/users/mattnegrin/r/citibike_p2/cbike-app")
install.packages('devtools')
library(shiny)
library(shinythemes)
library(plyr)
devtools::install_github('rstudio/shinyapps')
library(shinyapps)
shinyapps::setAccountInfo(name='mattnegrin', token='B64407292EF54BD866765B1A5322BD4C', secret='Jx+bBy7cFfblFP3rEMEUGXfi3pkX+GPxUyNu3b2i')
install.packages(c('ggplot2', 'shiny','shinythemes', 'plyr', 'dplyr'))
install.packages(c("ggplot2", "shiny", "shinythemes", "plyr",
)
install.packages(c("ggplot2", "shiny", "shinythemes", "plyr", "dplyr"))
library(plyr)
library(plyr)
library(dplyr)
library(ggplot2)
library(scales)
library(rvest)
rawStats <- data.frame()
finStats <- data.frame()
for (i in 1:28) {
main <- html(paste("http://www.nhl.com/stats/advancedstats?fetchKey=20152ALLSAASAll&viewName=advancedStatsSkaterShooting&sort=playerFullName&pg=",i, sep=""))
stats <- main %>%
html_nodes("table") %>%
.[[3]] %>%
html_table()
finStats <- rbind(finStats, stats)
}
toiStats <- data.frame()
for (i in 1:28) {
toi <- html(paste("http://www.nhl.com/stats/advancedstats?fetchKey=20152ALLSAASALL&viewName=advancedStatsSkaterShootingTOI&sort=shotAttemptsFor20&pg=",i, sep=""))
stats2 <- toi %>%
html_nodes("table") %>%
.[[3]] %>%
html_table()
toiStats <- rbind(toiStats, stats2)
}
rm(rawStats, nhl, stats, stats2, toi, i)
#removing unnecessary rank columns
finStats[,1] <- NULL
toiStats[,1] <- NULL
#joining datasets together
totalDf <- plyr::join(finStats, toiStats, by = "Player", type="full")
glimpse(totalDf)
ggplot(totalDf, aes(SAT close, G)) + geom_point(0)
ggplot(totalDf, aes_string("SAT close", "G")) + geom_point()
View(totalDf)
names <- c("Player", "Team", "Position", "GamesPlayed", "Goals", "Assists", "Points", "SATfor", "SATagainst", "SAT", "SATrel", "SATtied", "SATahead", "SATbehind", "SATclose", "USATfor", "USATagainst", "USAT", "USATrel", "USATtied", "USATahead", "USATbehind", "USATclose", "SPSv", "SATF60", "SATA60", "SAT60", "USATF60", "USATA60", "USAT60")
?colNames
colName
col.names
colnames(totalDf) <- names
glimpse(totalDf)
ggplot(totalDf, aes_string("SATclose", "Goals")) + geom_point()
ggplot(totalDf, aes_string("SAT", "Goals")) + geom_point()
link2 <- "http://classpass.com/a/LoginSignupDialog"
signin <- html(link2)
library(rvest)
library(dplyr)
?html
link2 <- "http://classpass.com/a/LoginSignupDialog"
signin <- html(link2)
signin
signin %>%
html_nodes(".clear_default")
signin %>%
html_nodes(".clear_default")
signin %>%
html_nodes(".clear_default") %>%
html_text()
?page.open
shell.exec(link2)
shell.exec("link2")
?shell.exec
library(RCurl)
install.packages("httr")
library(hittr)
library(httr)
library(RCurl)
library(rvest)
library(utils)
link2 <- "http://classpass.com/a/LoginSignupDialog"
browseURL(link2, browser = getOption("browser"),
encodeIfNeeded = FALSE)
browseURL(link2, browser = getOption("browser"),
encodeIfNeeded = FALSE)
test <- GET(url=link2)
test
test$handle$url
test$handle
test$date
test$cookies$csrftoken
status_code(test)
headers(r)
headers(test)
http_status(test)
content(test, "text")
content(test, "raw")
str(content(test, "parsed"))
install.packages('devtools')
devtools::install_github('rstudio/shinyapps')
library(shinyapps)
shinyapps::setAccountInfo(name='mattnegrin', token='B64407292EF54BD866765B1A5322BD4C', secret='Jx+bBy7cFfblFP3rEMEUGXfi3pkX+GPxUyNu3b2i')
setwd("~/r/citibike_p2/citibike")
library(shiny)
runApp()
library(shinyapps)
deployApp()
library(shinyapps)
deployApp()
install.packages("RcppEigen")
library(shinyapps)
deployApp()
terminateApp()
setwd("~/r/citibike_p2/citibike")
library(shinyapps)
deployApp()
library(shinyapps)
deployApp()
library(shinyapps)
deployApp()
library(shinyapps)
deployApp()
library(shiny)
runApp()
load("~/r/citibike_p2/clean2_done.rdata")
